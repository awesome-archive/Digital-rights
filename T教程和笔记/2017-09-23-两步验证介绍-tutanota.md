## 给你的邮箱客户端加上多种二步验证措施

今天借着 [Tutanota](https://tutanota.com) 的 [博客](https://tutanota.com/blog/posts/2fa-two-factor-authentication-totp-u2f) 给大家介绍 密码U盘 (U2F) 和 一次性密码器 (TOTP, HOTP)-- 特别是前者被认为是最安全的二步验证措施. 下面是大致翻译:

====

我们很高兴宣布 TOTP 作为二步验证的其中一个选项被加进我们的客户端beta版. 之前我们还发布了 一种可以用物理设备 (如携带密钥/密码的U盘)做二步验证的措施. 这个月我们就会公开我们全新的客户端 beta版. 

TOTP机制可以让用户使用 诸如像 Google Authenticator 或 Authy 的那种验证 app 来生成验证码. 因为 TOTP 的验证码只在很短一段时间内有效， 所以你不会因为忘了或丢失密码而陷入麻烦。

请留意这个情况， 当使用 totp 作为二步验证中的第二步时， 如果你的验证app 和 你要登录的账号都在 **同一台** 设备上的时候，这个二步验证就不是真正的二步验证了!

tutanota客户端已经可以使用 U2F 作为一种二步验证方法， 安全专家认为这是最安全的二步验证方法了。

（什么? 你还不是 二步验证有啥好处? 请自行谷歌啦。 同时作者提醒， 手机短信sms 作为二步验证方法是非常不安全的）

(下面来比较下几种二步验证方法:)

### 物理安全设备: U2F

- 最安全的选项
- 私钥是存储在 U2F 设备内
_ 保证对 "中间人攻击" (mitm) 和钓鱼攻击的防护
- 需要一个硬件设备 (通常是 u 盘) (在以后 yubico app 会作为一种软件替代)
- 目前只能在 chrome 和 opera 上使用， 将很快会支持 firefox 和 edge。
- 不再需要任何手动输入

### 验证app: TOTP

- 一种 app 会生成有效期很短的验证码 (google authenticator， authy 等)
- 需要每次登录时手动输入验证码
- 不需要任何硬件设备
- 如果你要登录的账号在手机上， 而这种 app 恰好也在同一部手机上， 则这种验证是无效的。

### 验证app: HOTP

* 一种 app 能生成永久有效的验证码
* 验证码需要妥善保存
* 需要每次登录时手动输入验证码
* 不需要任何硬件设备
* 同样， 对在移动设备上的登录， 起不到验证效果。

### 短信验证

* 验证码通过 sms 发送
* 需要手动输入验证码
* 安全性低， 可以很容易被拦截
* 不需要任何硬件设备
* 同样， 对在移动设备上的登录， 起不到验证效果。
